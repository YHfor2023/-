<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<!--edge浏览器H5兼容设置-->
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<!--360浏览器H5兼容设置-->
		<meta name="renderer" content="webkit" />
		<title>花漫|地址簿</title>
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<!--导入核心文件-->
		<script src="../bootstrap3/js/holder.js"></script>
		<link href="../bootstrap3/css/bootstrap.css" rel="stylesheet" type="text/css">
		<script src="../bootstrap3/jquery-1.9.1.min.js"></script>
		<script src="../bootstrap3/js/bootstrap.js"></script>
		<!-- 字体图标 -->
		<link rel="stylesheet" href="../bootstrap3/font-awesome-4.7.0/css/font-awesome.css" />
		<link rel="stylesheet" type="text/css" href="../css/layout.css" />
		<link rel="stylesheet" type="text/css" href="../css/top.css" />
		<link rel="stylesheet" type="text/css" href="../css/footer.css" />
<!--		<script type="text/javascript" src="../js/distpicker.data.js"></script>-->
<!--		<script type="text/javascript" src="../js/distpicker.js"></script>-->
	</head>
	<style>


		body {
			overflow-x: hidden;
		}

		.leading {
			padding: 0;
			margin: 0;
			width: 100%;
			height: 60px;
			background-color: #ffedf3;
			border: 1px solid #ffedf3;
		}

		.leading_content {
			margin: 10px 2%;
			width: 96%;
			height: 40px;
			/*background-color: #c9c9c9;*/
		}

		.logo {
			float: left;
			height: 40px;
			width: 120px;
			margin-right: 40px;
			/*background-color: #d3d3d3;*/
		}
		.logo img{
			margin-top: -1px;
			margin-left: -1px;
			height: 42px;
			width: 122px;
		}

		.leading_items {
			float: left;
			height: 40px;
			width: 400px;
			/*background-color: #a6a4a4;*/
		}
		.leading_items a{
			color: #050505;
		}
		#top-dropdown-btn {
			color: #050505;
		}
		.leading_buns {
			float: right;
			height: 40px;
			width: 160px;
			margin-left: 50px;
			/*background-color: #525151;*/
		}
		.leading_bun-2 {
			float: right;
			height: 40px;
			width: 40px;
			border-radius: 100%;
			margin-left: 10px;
			border: 0;
			background-color: #dadada;
		}

		.search {
			float: right;
			height: 40px;
			width: 400px;
			/*background-color: #525151;*/
		}

		.menu1 {
			width: 800px;
			height: 500px;
			background-color: #ffedf3;
			margin: -5px auto;

		}
		.menu-left {
			float: left;
			width: 180px;
			height: 400px;
			/*background-color: #a0a2a2;*/
			border: 1px solid #ffedf3;
		}
		.menu-left a{
			color: white;
			font-weight: bolder;
		}

		.menu-left li {
			width: 160px;
			height: 45px;
			margin: 5px auto;
			background-color: #3c3c3c;
			border: 1px solid #ffffff;
			border-radius: 8px;
		}

		.menu-mid {
			float: left;
			margin-left: 20px;
			width: 280px;
			height: 500px;
			/*background-color: #a0a2a2;*/
			border: 1px solid #ffedf3;
		}

		.menu-mid-1 {
			width: 90px;
			height: 45px;
			margin-top: 30px;
			background-color: transparent;
		}

		.menu-mid-2 {
			width: 276px;
			height: 300px;
			margin-top: 30px;
			/*background-color: #e3e1e1;*/
		}

		.menu-mid-2 li {
			float: left;
			width: 135px;
			height: 45px;
			margin: 5px auto;
			background-color: #ffffff;
			border: 1px solid #bebebe;
			border-radius: 4px;
		}
		.menu-mid-2 li a{
			color: #333333;
		}

		.menu-right {
			float: left;
			margin-left: 80px;
			width: 180px;
			height: 500px;
			/*background-color: #a0a2a2;*/
		}
		.menu-right-1{
			margin-top: 30px;
			height: 200px;
			width: 180px;
			background-color: #a9a9a9;
		}
		.menu-right-1 img{
			height: 200px;
			width: 180px;
		}
		.menu-right-2{
			margin-top: 30px;
			height: 180px;
			width: 180px;
			background-color: #a9a9a9;
		}
		.menu-right-2 img{
			height: 180px;
			width: 180px;
		}
	</style>
	<style>
		.panel-body a{
			margin-left: 30%;
			color: #3c3c3c;
		}
		body{
			background-color: #ffedf3;
		}
	</style>
	<body>
	<!--头部-->
	<div class="leading">
		<div class="leading_content">
			<div class="logo">
				<img src="../images/index/huamanlogo.png">
			</div>
			<div class="leading_items">
				<div class="col-md-9 top-item"
					 style="padding:0;margin: 0;float: left;width: 100%">
					<ul class="list-inline pull-left"
						style="margin-left: 5px">
						<li style="width: 40px">
							<a href="index.html">首页</a></li>
						<li class="li-split">|</li>
						<li style="width: 60px;padding-right: 0;padding-left: 0;">
							<!--下列列表按钮 ：管理-->
							<div class="btn-group">
								<button type="button" class="btn btn-link dropdown-toggle"
										data-toggle="dropdown"
										style="padding: 6px 0">
									<span id="top-dropdown-btn">女大童<span class="caret"></span></span>
								</button>
								<ul class="dropdown-menu top-dropdown-ul" role="menu">
									<div class="menu1">
										<div class="menu-left">
											<li><a href="searchfor.html?title=女大童%23上装&pageNum=1&pageSize=12">上装</a>
											</li>
											<li><a href="searchfor.html?title=女大童%23下装&pageNum=1&pageSize=12">下装</a>
											</li>
											<li><a href="searchfor.html?title=女大童%23套装&pageNum=1&pageSize=12">套装</a>
											</li>
										</div>
										<div class="menu-mid">
											<div class="menu-mid-1">
												<h2 style="font-weight: bolder;text-align: center">女大童</h2></div>
											<div class="menu-mid-2">
												<li>
													<a href="searchfor.html?title=女大童%23下装%23短裤&pageNum=1&pageSize=12">短裤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23下装%23长裤&pageNum=1&pageSize=12">长裤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23下装%23短裙&pageNum=1&pageSize=12">短裙</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23上装%23T恤&pageNum=1&pageSize=12">T恤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23上装%23卫衣&pageNum=1&pageSize=12">卫衣</a>
												</li>
												<li><a href="searchfor.html?title=女大童%23上装%23连衣裙&pageNum=1&pageSize=12">连衣裙</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23套装%23长袖套装&pageNum=1&pageSize=12">长袖套装</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23套装%23短袖套装&pageNum=1&pageSize=12">短袖套装</a>
												</li>
												<li><a href="searchfor.html?title=女大童&pageNum=1&pageSize=12">全部</a>
												</li>
											</div>
										</div>
										<div class="menu-right">
											<div class="menu-right-1">
												<img src="../images/index/leading_right_5.png">
											</div>
											<div class="menu-right-2">
												<img src="../images/index/leading_right_6.png">

											</div>
										</div>
									</div>
								</ul>
							</div>
						</li>
						<li class="li-split">|</li>
						<li style="width: 60px;padding-right: 0;padding-left: 0;">
							<!--下列列表按钮 ：管理-->
							<div class="btn-group">
								<button type="button" class="btn btn-link dropdown-toggle"
										data-toggle="dropdown"
										style="padding: 6px 0">
									<span id="top-dropdown-btn">女中童<span class="caret"></span></span>
								</button>
								<ul class="dropdown-menu top-dropdown-ul" role="menu">
									<div class="menu1">
										<div class="menu-left">
											<li><a href="searchfor.html?title=女中童%23上装&pageNum=1&pageSize=12">上装</a>
											</li>
											<li><a href="searchfor.html?title=女中童%23下装&pageNum=1&pageSize=12">下装</a>
											</li>
											<li><a href="searchfor.html?title=女中童%23套装&pageNum=1&pageSize=12">套装</a>
											</li>
										</div>
										<div class="menu-mid">
											<div class="menu-mid-1">
												<h2 style="font-weight: bolder;text-align: center">女中童</h2></div>
											<div class="menu-mid-2">
												<li>
													<a href="searchfor.html?title=女中童%23下装%23短裤&pageNum=1&pageSize=12">短裤</a>
												</li>
												<li><a href="searchfor.html?title=女中童%23下装%23七分裤&pageNum=1&pageSize=12">七分裤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女中童%23下装%23短裙&pageNum=1&pageSize=12">短裙</a>
												</li>
												<li>
													<a href="searchfor.html?title=女中童%23上装%23T恤&pageNum=1&pageSize=12">T恤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女中童%23上装%23卫衣&pageNum=1&pageSize=12">卫衣</a>
												</li>
												<li>
													<a href="searchfor.html?title=女中童%23上装%23针织衫&pageNum=1&pageSize=12">针织衫</a>
												</li>
												<li><a href="searchfor.html?title=女中童%23上装%23连衣裙&pageNum=1&pageSize=12">连衣裙</a>
												</li>
												<li><a href="searchfor.html?title=女大童&pageNum=1&pageSize=12">全部</a>
												</li>
											</div>
										</div>
										<div class="menu-right">
											<div class="menu-right-1">
												<img src="../images/index/leading_right_7.png">
											</div>
											<div class="menu-right-2">
												<img src="../images/index/leading_right_8.png">
											</div>
										</div>
									</div>
								</ul>
							</div>
						</li>
						<li class="li-split">|</li>
						<li style="width: 60px;padding-right: 0;padding-left: 0;">
							<!--下列列表按钮 ：管理-->
							<div class="btn-group">
								<button type="button" class="btn btn-link dropdown-toggle"
										data-toggle="dropdown"
										style="padding: 6px 0">
									<span id="top-dropdown-btn">女小童<span class="caret"></span></span>
								</button>
								<ul class="dropdown-menu top-dropdown-ul" role="menu">
									<div class="menu1">
										<div class="menu-left">
											<li><a href="searchfor.html?title=女大童%23上装&pageNum=1&pageSize=12">上装</a>
											</li>
											<li><a href="searchfor.html?title=女大童%23下装&pageNum=1&pageSize=12">下装</a>
											</li>
											<li><a href="searchfor.html?title=女大童%23套装&pageNum=1&pageSize=12">套装</a>
											</li>
										</div>
										<div class="menu-mid">
											<div class="menu-mid-1">
												<h2 style="font-weight: bolder;text-align: center">女小童</h2></div>
											<div class="menu-mid-2">
												<li>
													<a href="searchfor.html?title=女大童%23下装%23短裤&pageNum=1&pageSize=12">短裤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23下装%23长裤&pageNum=1&pageSize=12">长裤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23下装%23短裙&pageNum=1&pageSize=12">短裙</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23上装%23T恤&pageNum=1&pageSize=12">T恤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23上装%23卫衣&pageNum=1&pageSize=12">卫衣</a>
												</li>
												<li><a href="searchfor.html?title=女大童%23上装%23连衣裙&pageNum=1&pageSize=12">连衣裙</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23套装%23长袖套装&pageNum=1&pageSize=12">长袖套装</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23套装%23短袖套装&pageNum=1&pageSize=12">短袖套装</a>
												</li>
												<li><a href="searchfor.html?title=女大童&pageNum=1&pageSize=12">全部</a>
												</li>
											</div>
										</div>
										<div class="menu-right">
											<div class="menu-right-1">
												<img src="../images/index/leading_right_3.png">
											</div>
											<div class="menu-right-2">
												<img src="../images/index/leading_right_4.png">
											</div>
										</div>
									</div>
								</ul>
							</div>
						</li>
						<li class="li-split">|</li>
						<li style="width: 60px;padding-right: 0;padding-left: 0;">
							<!--下列列表按钮 ：管理-->
							<div class="btn-group">
								<button type="button" class="btn btn-link dropdown-toggle"
										data-toggle="dropdown"
										style="padding: 6px 0">
									<span id="top-dropdown-btn">女婴童<span class="caret"></span></span>
								</button>
								<ul class="dropdown-menu top-dropdown-ul" role="menu">
									<div class="menu1">
										<div class="menu-left">
											<li><a href="searchfor.html?title=女大童%23上装&pageNum=1&pageSize=12">上装</a>
											</li>
											<li><a href="searchfor.html?title=女大童%23下装&pageNum=1&pageSize=12">下装</a>
											</li>
											<li><a href="searchfor.html?title=女大童%23套装&pageNum=1&pageSize=12">套装</a>
											</li>
										</div>
										<div class="menu-mid">
											<div class="menu-mid-1">
												<h2 style="font-weight: bolder;text-align: center">女婴童</h2></div>
											<div class="menu-mid-2">
												<li>
													<a href="searchfor.html?title=女大童%23下装%23短裤&pageNum=1&pageSize=12">短裤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23下装%23长裤&pageNum=1&pageSize=12">长裤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23下装%23短裙&pageNum=1&pageSize=12">短裙</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23上装%23T恤&pageNum=1&pageSize=12">T恤</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23上装%23卫衣&pageNum=1&pageSize=12">卫衣</a>
												</li>
												<li><a href="searchfor.html?title=女大童%23上装%23连衣裙&pageNum=1&pageSize=12">连衣裙</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23套装%23长袖套装&pageNum=1&pageSize=12">长袖套装</a>
												</li>
												<li>
													<a href="searchfor.html?title=女大童%23套装%23短袖套装&pageNum=1&pageSize=12">短袖套装</a>
												</li>
												<li><a href="searchfor.html?title=女大童&pageNum=1&pageSize=12">全部</a>
												</li>
											</div>
										</div>
										<div class="menu-right">
											<div class="menu-right-1">
												<img src="../images/index/leading_right_1.png">
											</div>
											<div class="menu-right-2">
												<img src="../images/index/leading_right_2.png">
											</div>
										</div>
									</div>
								</ul>
							</div>
						</li>

					</ul>
				</div>
			</div>

			<div class="leading_buns" id="leading_buns_id">
				<input value="登录" type="button"
					   onclick="javascript:window.location.href='login.html'"
					   style="height: 40px;width: 75px;border: 1px solid white;background-color: transparent">
				<input value="注册" type="button"
					   onclick="javascript:window.location.href='register.html'"
					   style="height: 40px;width: 75px;border: 1px solid white;background-color: #3c3c3c;color: white">
			</div>

			<div class="search">
				<form action="searchfor.html" onsubmit="return checkIfHaveVal()" class="form-inline pull-right" role="form">
					<div class="form-group">
						<!--						http://localhost:8080/web/search.html?title=1&pageNum=1&pageSize=12-->
						<input type="text" class="form-control" name="title"
							   style="width: 350px;height: 40px;border: 1px solid white"
							   placeholder="请输入商品名称进行搜索">
						<input type="hidden" id="pageNum" name="pageNum" value="1">
						<input type="hidden" id="pageSize" name="pageSize" value="12">
					</div>
					<button type="submit" class="btn btn-default btn-sm"
							style="width: 40px;height: 40px;margin-right: 5px;
                        border: 1px solid white;background-color: transparent">
						<span class="fa fa-search"></span></button>
				</form>
			</div>
		</div>
	</div>
	<!--头部结束-->
	<div class="container"
		 style="width: 94%;height: 700px;margin-top: 30px;border-radius: 10px;
			 border: 10px solid white">
		<div class="col-md-2"
			 style="height:500px;margin-top: 70px;
				 border:10px solid white;border-radius :10px;background-color: #f0f9ff">
			<!--左侧导航开始-->
			<div class="panel-group" id="accordion">
				<div class="panel panel-default" style="border: white;background-color: #f0f9ff">
					<div style="height: 70px;margin-bottom: 30px;
						background-color: #3c3c3c">
						<h4 style="color: white;font-weight: bolder;
							text-align: center;padding-top: 22px">花漫账户信息</h4>
					</div>
					<div class="panel-heading" style="margin: 0;padding: 0">
						<!--主选项：我的订单-->
						<div style="height: 70px;
						background-color: #3c3c3c">
							<h4 class="panel-title" style="color: white;font-weight: bolder;
							text-align: center;padding-top: 22px">
								<a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">修改资料</a>
							</h4>
						</div>
					</div>
					<div id="collapseOne" class="panel-collapse collapse">
						<div class="panel-body">
							<div><a href="password.html">修改密码</a></div>
							<div><a href="userdata.html">个人资料</a></div>
							<div><a href="upload.html">上传头像</a></div>
							<div><a href="address.html"><b>收货管理</b></a></div>
						</div>
					</div>
				</div>
				<div class="panel panel-default">
					<div class="panel-heading" style="margin: 0;padding: 0">
						<!--主选项：我的订单-->
						<div style="height: 70px;
						background-color: #3c3c3c">
							<h4 class="panel-title" style="color: white;font-weight: bolder;
							text-align: center;padding-top: 22px">
								<a href="orders.html">我的订单</a>
							</h4>
						</div>
					</div>
				</div>
			</div>
			<!--左侧导航结束-->
		</div>

		<div class="col-md-10	"style="width: 75%;margin-top: 50px;margin-left: 70px">
			<!--右侧文字提醒内容-->
			<div>
				<h1 style="font-weight: bolder">地址更新</h1>
				<hr style="width: 100%;height: 2px;background-color: #3c3c3c">
			</div>
			<!--上传头像内容-->
			<div class="panel panel-default" style="border-radius:10px; border:5px solid white;background-color: transparent;height: 450px">

				<div class="panel-body">
					<!--新增收货地址表单开始-->
					<form id="form-add-new-address" class="form-horizontal" role="form">
						<div class="form-group">
							<label  class="col-md-2 control-label"><span class="txtred">*</span>收货人：</label>
							<div class="col-md-8">
								<input id="name" name="name" type="text" class="form-control" placeholder="请输入收货人姓名">
							</div>
						</div>
						<div class="address_content" data-toggle="distpicker">
							<div class="form-group">
								<label class="col-md-2 control-label"><span class="txtred">*</span>省/直辖市：</label>
								<div class="col-md-3">
									<select id="province-list" name="provinceCode" class="form-control" data-province="---- 选择省 ----"></select>
								</div>
								<label class="col-md-2 control-label"><span class="txtred">*</span>城市：</label>
								<div class="col-md-3">
									<select id="city-list" name="cityCode" class="form-control" data-city="---- 选择市 ----"></select>
								</div>
							</div>
							<div class="form-group">
								<label class="col-md-2 control-label"><span class="txtred">*</span>区县：</label>
								<div class="col-md-3">
									<select id="area-list" name="areaCode" class="form-control" data-district="---- 选择区 ----"></select>
								</div>
								<label class="col-md-2 control-label">邮政编码：</label>
								<div class="col-md-3">
									<input id="zip" name="zip" type="text" class="form-control" placeholder="请输入邮政编码">
								</div>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-2 control-label"><span class="txtred">*</span>详细地址：</label>
							<div class="col-md-8">
								<textarea id="address" name="address" class="form-control" rows="3" placeholder="输入详细的收货地址，小区名称、门牌号等"></textarea>
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-2 control-label"><span class="txtred">*</span>手机：</label>
							<div class="col-md-3">
								<input id="phone" name="phone" type="text" class="form-control" placeholder="请输入手机号码">
							</div>
							<label class="col-md-2 control-label">固话：</label>
							<div class="col-md-3">
								<input id="tel" name="tel" type="text" class="form-control" placeholder="请输入固定电话号码">
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-2 control-label">地址类型：</label>
							<div class="col-md-8">
								<input id="tag" name="tag" type="text" class="form-control" placeholder="请输入地址类型，如：家、公司或者学校">
							</div>
						</div>
						<div class="form-group">
							<label class="col-md-2 control-label"><a href="address.html">返回</a>&nbsp;&nbsp;&nbsp;</label>
							<div class="col-sm-10">
								<input id="btn-update-address" type="button" class="col-md-1 btn btn-primary" value="更新" />
								<input type="reset" class="col-md-offset-1 col-md-1 btn btn-primary" value="重置" />
							</div>
						</div>
					</form>
				</div>
			</div>
		</div>
	</div>
	<!--页脚开始-->
	<div class="footer1"
		 style="background-color: #ffedf3;height: 100px;width: 100%;">
		<h5 style="padding-top: 20px;margin: 0;text-align: center">
			京ICP备11017824号-4 / 京ICP证130164号 北京市公安局朝阳分局备案编号:110105000501</h5>
		<h5 style="padding-top: 20px;margin: 0;text-align: center">
			Copyright © 2006-2023 ZCOOL 中文 English</h5>
	</div>
	<!--页脚结束-->
	<script src="../bootstrap3/js/jquery.cookie.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			$(document).ready(function(){
				is_login()
			});
			function is_login() {
				if ($.cookie("now_uid") != null) {
					$(".leading_buns").empty();
					var loginstatus =
							'            <button class="leading_bun-2" id="userinfo" \n' +
							'                    onclick="javascript:window.location.href=\'userdata.html\'">\n' +
							'                <img id="img-avatar"  src="../images/index/用户.png" style="height: 42px;width: 42px;margin:-3px 0 0 -5px;border-radius: 100%">\n' +
							'            </button>\n' +
							'            <button class="leading_bun-2" id="logout" \n' +
							'                    onclick="logout()">\n' +
							'                <img src="../images/index/退出.png" style="height: 30px;width: 30px;">\n' +
							'            </button>' +
							'<button class="leading_bun-2" id="ship" \n' +
							'                    onclick="javascript:window.location.href=\'cart.html\'">\n' +
							'                <img src="../images/index/购物车.png" style="height: 27px;width: 27px;">\n' +
							'            </button>\n';

					$(".leading_buns").append(loginstatus);
				}
				var avartar = $.cookie("avatar");
				if (avartar != null) {
					$("#img-avatar").attr("src", avartar);
				}else{
					$("#img-avatar").attr("src","../images/index/用户.png");
				}
			}
			function logout(){
				$.cookie("now_uid", null, {expires: 7});
				$.cookie("now_username",null, {expires: 7});
				$.cookie("avatar", null, {expires: 7});
				$.cookie("auto", null, {expires: 7});
				$.cookie("login", null, {expires: 7});
				history.go(0);
			}

			//调用jquery-getUrlParam.js文件的getUrlParam方法获取商品id 我的订单
			url = window.location.href; /* 获取完整URL */
			urlaid = url.substring(url.indexOf("=")+1)
			// alert(urlid);
			// var id = $.getUrlParam("id");
			// console.log("id=" + id);
			$(document).ready(function() {
				$.ajax({
					url: "/addresses/" + urlaid + "/show",
					type: "GET",
					dataType: "JSON",
					success: function(json) {
						if (json.state == 200) {
							console.log("title=" + json.data.title);

							// alert($("#province-list").value())
							//将查询到的信息写入下拉框

							$("#name").val(json.data.name);
							$("#zip").val(json.data.zip);
							$("#address").val(json.data.address);
							$("#phone").val(json.data.phone);
							$("#tel").val(json.data.tel);
							$("#tag").val(json.data.tag);

						} else if (json.state == 4004) { // 地址数据不存在的异常
							location.href = "index.html";
						} else {
							alert("获取地址信息失败！" + json.message);
						}
					}
				});
			});


			$("#btn-update-address").click(function () {
				$.ajax({
					url: "/addresses/"+urlaid+"/update",
					type: "POST",
					data: $("#form-add-new-address").serialize(),
					dataType: "JSON",
					success: function (json) {
						if (json.state == 200) {
							alert("修改收货地址成功")
							location.href = "address.html";
						} else {
							alert("修改收货地址失败")
						}
					},
					error: function (xhr) {
						alert("修改收货地址时产生未知的异常!"+xhr.message);
					}
				});
			});

			/**因为清空后下拉列表的select标签没有option标签,所以需要设置一个默认的option标
			 * 签并给市,县加上该标签.option标签并不会把内容发送到后端,而是将value值发
			 * 送给后端,所以用value表示当前这个区域的code值
			 * */
			var defaultOption="<option value='0'>-----请选择-----</option>";
			$(document).ready(function () {
				//加载省的数据罗列时代码量较多,建议定义在外部方法中,然后在这里调用定义的方法
				showProvinceList();

				//将省,市,县的下拉列表内容设为"-----请选择-----"
				/**
				 * select标签默认获取第一个option的内容填充到下拉列表中,所以即使加载
				 * 页面时省区域的下拉列表中已经有了所有省但仍然会显示-----请选择-----
				 * */
				$("#province-list").append(defaultOption);

				$("#city-list").append(defaultOption);
				$("#area-list").append(defaultOption);
			});


			//省的下拉列表数据展示
			function showProvinceList() {
				$.ajax({
					url: "/districts",//发送请求用于获取所有省对象
					type: "POST",
					data: "parent=86",
					dataType: "JSON",
					success: function (json) {
						if (json.state == 200) {
							var list = json.data;//获取所有省对象的List集合
							for (var i = 0; i < list.length; i++) {
								var opt =
										"<option value='"+list[i].code+"'>"+list[i].name+"</option>";
								$("#province-list").append(opt);
							}
						} else {
							<!--这个其实永远不会执行,因为没有编写
                            异常,控制层返回的状态码永远是OK-->
							alert("省/直辖区的信息加载失败")
						}
					}
					//这里没有写属性error,不知道为啥不用写,感觉写了更好
				});
			}

			/**
			 * change()函数用于监听某个控件是否发生改变,一旦发生改变就
			 * 会触发参数形式的函数,所以参数需要是function(){}
			 * */
			$("#province-list").change(function () {
				//先获取到省区域父代码号
				var parent = $("#province-list").val();

				/**
				 * 如果我选择了河南省洛阳市涧西区,然后又选择了河北省,此时需要
				 * 将市,县下拉列表的所有option清除并显示内容-----请选择-----
				 * empty()表示某标签的所有子标签(针对此页面来说select的子标
				 * 签只有option)
				 * */
				$("#city-list").empty();
				$("#area-list").empty();
				//填充默认值:-----请选择-----
				$("#city-list").append(defaultOption);
				$("#area-list").append(defaultOption);

				if (parent == 0) {//如果继续程序,后面的ajax接收的json数据中的data是
					return;//空集合[],进不了for循环,没有任何意义,所以直接在这里终止程序
				}
				$.ajax({
					url: "/districts",
					type: "POST",
					data: "parent="+parent,
					dataType: "JSON",
					success: function (json) {
						if (json.state == 200) {
							var list = json.data;
							for (var i = 0; i < list.length; i++) {
								var opt =
										"<option value='"+list[i].code+"'>"+list[i].name+"</option>";
								$("#city-list").append(opt);
							}
						} else {
							alert("市的信息加载失败")
						}
					}
				});
			});

			$("#city-list").change(function () {
				var parent = $("#city-list").val();
				$("#area-list").empty();
				$("#area-list").append(defaultOption);

				if (parent == 0) {
					return;
				}
				$.ajax({
					url: "/districts",
					type: "POST",
					data: "parent="+parent,
					dataType: "JSON",
					success: function (json) {
						if (json.state == 200) {
							var list = json.data;
							for (var i = 0; i < list.length; i++) {
								var opt =
										"<option value='"+list[i].code+"'>"+list[i].name+"</option>";
								$("#area-list").append(opt);
							}
						} else {
							alert("县的信息加载失败")
						}
					}
				});
			});

		</script>
		<script type="text/javascript" src="../js/jquery-getUrlParam.js"></script>


	</body>

</html>